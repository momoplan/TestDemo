language: objective-c
osx_image: xcode7
before_install:
- gem install fir-cli --no-ri --no-rdoc
before_script:
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/profile/XC_Ad_Hoc_comlivinggame.mobileprovision.enc -d -a -out scripts/profile/XC_Ad_Hoc_comlivinggame.mobileprovision
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.cer.enc -d -a -out scripts/certs/dist.cer
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.p12.enc -d -a -out scripts/certs/dist.p12
- ./scripts/add-key.sh
script:
- xctool -project TestDemo.xcodeproj -scheme TestDemo -sdk iphoneos -configuration Debug OBJROOT=$PWD/build SYMROOT=$PWD/build ONLY_ACTIVE_ARCH=NO 'CODE_SIGN_RESOURCE_RULES_PATH=$(SDKROOT)/ResourceRules.plist'
after_success:
- ./scripts/sign-and-upload.sh
after_script:
- ./scripts/remove-key.sh
env:
  global:
  - APP_NAME="TestDemo"
  - DEVELOPER_NAME="iPhone Developer: bo zhong (RUN444LG9H)"
  - PROFILE_NAME="XC_Ad_Hoc_comlivinggame"
  - secure: IugDepW90x8HVbRRjD7jfN0LWTmmy07HHAAH8D0YdMWoZsdgVb0yQyoEouKbCeA6RaMv0xUy0HiasF/NkqQ+/qoGAGPkALWsbMoYFc5zh9lfpdG80Q+XfJpZdgIGCW5SO7Mr4jQNlUZw81Z+rLU6tRJwmON+MXRUrWXMWiOJ/AZFA2c7uO5clLimYbidIxOJCM05r+70zBpDYkVVsimtC3HoID14awNZCVBDJ40kocoXuQUopxOzszsfkJ202opJwOCWCPe9N4lhk8IMlUCaiXYcyeDnPKfTz2R9+Lgw2eILf0DvbBozbtEcLaPR2+qWSLtH4MRv9uy5A37mJ6jKZD9KTbWvHKrbmY2BCJorx9f+ETTjQYu4oGiBtIhe8tyeDf2ONaniYVzl7vssEK6cg+lDsFcU4GIEp3drD5tLlFEKfHK2QM5pgvoCSTojuy0l9BWqebRn1Gv9QF5mqJdST1MPHbLLiszZpb/t2ovVOn10DgcKNDpyWG+/bfRzXgh2Woqr5gPkbmivQIefiOVXu42ZSLzFEOXXopmVtSseO44trzf1dxIno48GXaUxqv8pjt1ernFzicm9BhQT73OBYoqNpUX9IYzYwaFMIrqYfDaL9wWpehRvrZXduak/TiHSBZKKk/uLio82XbIuhxYXSMqUjciBYZB/cjMqBlDle7U=
  - secure: Ah5sOC2UDWgrUfXNdGN2fdWJdrVYJvPNw3WPT0/PUIpIBBdH+tYWDMhh3uOlw6S1kDIXfRtkv03KTZBavpIoClCphIY5hH8vDeuNfdDosFTQC0Fi7r8pCfLphY7X1T5rlvMuaaVa2OxphJl+4mlkfl+K7d4WALdSjLE4dOyQ7M7sUBIqh7G8Zf0a/7+8Xh+ocsVUfO+o4N6P2rNcHNQG1IQyMgTXyBIclsPAXK365vi5ALotHc/zH0Z0cR2/gvXn6xcPdDHTPeOh0ibvpUUTwyzJpdyESjTujXh3epD9sB93p60PyxdHXikFA3w0dWOMoQ0jwV4cKJpI9eINFJSLrvtSqs5wj4RdbMmcdHBPDhluQsgGFRK0oasc8ebyK7okhJeJ0HShOOX7WHwr0AQxYhpAEeSoGsDsEKfKaHpn10e/3xdy/ycZiF4ps8HXDCJxpkLUNiWiF76Imk6/NwXVsT3Zas4AiCsBnSB5nhJugJiMbj9q0+jhcaQG8ixBsTiU8Z6j0WVIaCx7jJ5TFIMBQ9vKBHNtS54QK79jBi7LmmgXIX1yvA7HdkpmekjgHWj2354E7bU3m165pbT50O0o0oHjR+D2jWhlVA2yB1ooDCQTfb622m1RpwTVNPC43mfk412WaCYRQqBtl0WWAJs8dSfqO3axmfIvZWgEVGjX8kw=
  - secure: WotNCEIVlXRj97+4lBUqyq10Cggsqf5Y0+6y/M1XaXpic8AzIo7Yl1b7KsuQFjV3KyeUieCCSWQe6699M1nbHIn/81uogDgpo8nPhZlQd2yClDK3rA+C3dXkrVFQ7IgFf2QApbZW95opY1JF+3cac/ii7abcDGBwrtYSTx3+3Qh/o1RRoY0E6Smu9nNPeAZwfu0crN1tNweMRJ9O/+QPMfszqJnsrV/K/0v/WOzpqdJiqul7YaPMObSEtazbQFddtgkyTyo9w7aRVWDnBTxvBGncQnGYWQaHCSaCubcVc+wHbGZN7I2XV5sK1SgY3wcNOTHV5/OUb5gO4TuNhCXzkSYHFlwJ6eiRlMKXXgCoKmcCJnKuXVajTMFPtdsSByL5orSDn42Ua6ysp6FQ9O4aIubRVKPHeDO84LqwymR5VZgEB/DKGLggpb8EfDKbiyvkChaK6W0N3Yv8uKfWxmeDpnW3MTJB95/DVKE/wY6vQLHRulFsCCIfduFQmik+9OjvOtXcigcw0aeD27nVWEjqjRmWXQXU7NRJxhmCLQaysuJo/ckxB4rVNS5alU2uKUHNSe3E0F6tkHhjpJXQN7Fdqj4gtQZvE4WIaCbcG/MuLeCM9MGy7YzVjemkrGGaMsThKwUOsFdwTTcyGT+kkYj6wuLJTfGjb261/Tg8+CRzXxI=
  - secure: Z1UXP8VgVDUYyS13vubOFwO6qDTj0q6Rn8cOQMvnp9hVv5KDP5kFqd8wm/6PnS5dQjuhG2uS4wolovalqd1c6JGnTUDNGBhOHaO/xnq3Wvr8b9g17eQfUjQAqOaz8dFH/S8fcMPPMqkIEY9PY15mIWNrlRPzx2M7FT+q3kF1eiWGT+yYYsR7lOkklUrWd9CAaSZ4ywjZUR2034ZJCG2yQgkNh2jqTiZd20atPJVvPM6eqg9Q1NaTl7PZhBrvGhiVTWYaL2WlTHeftWxcevaCWLbfquh/sDp32hr4G2hT20mhw5CdtzGkuoJ8vWNwjlYJxFKCwp0s8V9TsLSQoLHvRWxuaaR4xvXQkgRZDXIzXdBbwD+VgENTEp50VK4GW66FSXS1twqTM8C8v5pTsLy/ToFvJrccvGxkcS231NS+5ISw6TgWZnosSoWvGtrGlQBCRjG3TnVkmkYccfP7VKW2ABR0NNLT3yQWp3j2Vqvpk2lM77mDx11uYh7+jvIKUkSVk9WpZIQbKzHsCLlgPUIoWAaZ9oYGv3j6D0rvog/WrBCf9Zjj2sAEx2T/tPOVoX9spOex7XMv8K1HW73DDg/kd3WfM4GRsEMYagF/6BBFg/PvzM2kpZCf32qbM47xlO2vKCl11w9gY8vnd+UVxkx9fGu1PQbuj8Xy2pBhiMgjUoQ=
  - secure: CIbUC0WKshU4wqfOnl0u8axQFSjI2vvg/stxYOusOG3PlTDDZ/khihzvezBv6eVMIdp4dIiK1fTdC3KhfG7hRV1tXTmAOemmSo0XLOn3jt44meaVUKL9EYidsIZTGQXRYkCk8K7lg3KbgbID4JUhJF08iTLEG6RO2moz0jpTg/R73eKAij96sGakq3tKgCGWLHzd/ndrCYD0IjqD8++rE95Mf7Z8yTTF6O1sl6T3cLGyu2sN1oIQUPvhmU5eqa+kC5MgmMhzbAwalypfjrPSI8yRV3dsj6fHRfQSiediwxaUtb5ni1+W/caYAI2I3qOoAk5l3+HLnsKgtO9C4R8wcnQay8Y/dzYNewTSjMbK+XKCa3ptxLnAMNuUJWzRm+l5+J3vQ7+Ys+5YhK/GzlksGW5wO5bgC6lahCcOBU1AncnHzinE6iMtI+VXYl5hXJHgaz6wc6S1Oa8UmeQUqMWv6NDETWR8vtMidU4S7JFGC73MCQmzGQFAujpcaUTM1/3eYgvG22dYDRrTlKmu1SvdpyBiXvRAY+BUuSf2XakBIYclAGR5Zx/oU1kMlR69SZD90w9BXWqx8tkTYU2d6fo0KGO6GhZYTjR2ozmGFYxH+UDv5kDczwG7IHA01vH2iVucdsfQYb2GQOrzl9veGO2a5LFAsU8jIM4g5obkkkDqPwM=
