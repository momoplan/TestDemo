language: objective-c
osx_image: xcode7
before_install:
- gem install fir-cli --no-ri --no-rdoc
before_script:
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/profile/XC_Ad_Hoc_comlivinggame.mobileprovision.enc -d -a -out scripts/profile/XC_Ad_Hoc_comlivinggame.mobileprovision
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.cer.enc -d -a -out scripts/certs/dist.cer
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.p12.enc -d -a -out scripts/certs/dist.p12
- ./scripts/add-key.sh
script:
- xctool -project TestDemo.xcodeproj -scheme TestDemo -sdk iphoneos -configuration Debug OBJROOT=$PWD/build SYMROOT=$PWD/build ONLY_ACTIVE_ARCH=NO 'CODE_SIGN_RESOURCE_RULES_PATH=$(SDKROOT)/ResourceRules.plist'
after_success:
- ./scripts/sign-and-upload.sh
after_script:
- ./scripts/remove-key.sh
env:
  global:
  - APP_NAME="TestDemo"
  - DEVELOPER_NAME="iPhone Developer: bo zhong (RUN444LG9H)"
  - PROFILE_NAME="XC_Ad_Hoc_comlivinggame"
  - secure: g0CFyUI7dodRRPg1Z/4BPHYthKELONag7gItEkSdlfKm8ixm9uS70vOchYkf4Ir1PoD08GgK4UekR6DRcfdK9N65J+NxzqoYg/J0EhnlXDV+MIPpZ3H9LnjXj7rVwczVXgWTYfe6XInFB2vT8OmDK+zYH9NrZnpAlf7/wgT/urBMd6L79VrsQu3ZmMQHXDLxElV1SiO+eHUV+0xgFgCG43103XNDtIKH8ZxWOlI+9sPaolehBjIelQnOFGAaFVOl08VFl+UU3lcVTgYlHmguh9vMwivOlHu9u+0d1p0RWwGR83QzGbCwblu3FEgCrUTM+s2ww4YseYxeMldY/MGfp8yLbsab+uNDKnwpbhemkbhLXzZEChGLjS/zmqhUd+hwkdOV8XvTCYvxnStV4OUChoNT4MYCP6cYeuB13ePSYI6517Qots9Apm4LKbFonhciG3QeUI4si7knx3nZzFEWgbda7+b42kT8NITelxM/h0xScFEB240/NdRl/s39bJ9UJvRflHVSXSz6IOsJUK6JdAur+z4JqLRVJ0stZSE1xpNBwT9T8VdzadqBg+yjVQ/T+a62dLwKnKzgguDBftRS3ilipg4dCqVWiuELIdbDKtr3z+WFFkysh/vwEcYMZ5wema+w2lPVikMcnZcvUQJZ2U3wbgyoQ/+nbJRQtN/CSLQ=
  - secure: Ph82o/3eteLFnzztyCqye3qzidrQwJvhy+V8UGxMlATCpNxZGVXqIwFPpPvA1D5dRt+6sxCvhq3qljiYrJTzjyR8I2OnTrIDYu/iZ5BrCBWDZ/asB7y8utxKAtuu42vqECyvOnXYLipJnGiXRFZVkLKDU4FpOazdUaR96cPI8NeLYgxApNdHb0q1stAsRDtbDZ2q0/Oen6Ln8CyXxl3A11IKJhvXTdSbe4e9PCnm2stABsQoM2K/2P6Sit4C5VZpBClhnGaC0UIDLFcVxbH6/kLtjkxE6P2vb33ABXHfiQdA+AiUa/LRbje7cgSGPJKbY1eq3SYmsBKAOvaTZsE1JdQlkjYBdoVdS7MZ64SMuGrsWkLbDDR+tYP//mcPFEKNGF/V84pw9FCT0wx1f286aFO5/s1PZZHf15+0tLlrqdoJQBKOSD3idz4nUbynCkSVK+LX1QeGmoz3g73ZL5FEdcqtwljWhhollUU6sLlq/NmQxiN+G5yc3OmaqB6X2FcdvalC10JTSC0jpURtDUfbJJ8nm7v3BZ8/I94FJt2gAxEihhUVpkGUCCpKYlu89UyK5H4mMPU8/otOn8bZDS4UjJt4LeBhtkTGFneBgGYS2xU9aZSsaDDyISR+wIXB5XpmHKnxhK1vgo6yug0Q4JhWeOn+w2utJYL6yI16ICvFhus=
  - secure: IsAzpLYzbEM7L9aD2/45DLbM0MokeTGv1KUlEeXLmapl97CiWaK63q8GTTjQA4IXvDJq8u3QfkU6bSGS0WSU5Ymen2cGtBjs/bz72h1NyZ0biWK1cUuQwrQ9KZUDvR+m2wYkeuXRRg5nBp/PN141cKPbCtYrrALfJExrUSiyq3YxV0qC5ci8BZmCRl+a8WcApoGYj7cXGov7EoCjfI6iFrHOOBab1kNDadaA044bWveZqE9m4CHg+Ag7Oje1+X4T/uOoGzyCbT+BASqpoyfFsVTnUIg+XhBf5WTonYtDZx2migPfskuhkTpKA+TzGEqVLhOuAwocjyuzTW1f4h4RSO7uo6bbmdv9QPdl7xO/2NzjxKRu+6a2t3WGo83rZ1iU8K3BE30qH1P8mq4DaGZJV9udd20KYhfDrQwK48YMOJeeV/23US/omtTtxdolZZ8kcFfUtFb4YNLb5Ho9bJLlNCom5JByCsKAjBF+nwzHikZJDhbNVj9khhUsLDV0Gdoo9RjqEGGVoYj3e843TxZU0po78ZM0oMKJ49m2llPttJ6RA/GruhRcsU6jtTTbErX5M8GlRrQ/D2X/eeRhaL3o4C7wdLzRiaQLLq6Lgs/2/BGovUDoIHUL7uAfTfZboEkkJyoFJXyYoNKsdosXze+ipuvUuDTV53SGI2Qat5u2BFk=
  - secure: CRi00yQjJTN74vOt1Rqbopf7bU+qGxygtuMG7WNcK5oPKgGLZu/wvOyo7FosvGDqsL6vQggFJI13yvTvXv2NLgTfW9QVZ1bL+QrATm/RZBXmo26uqP5j32Hdw4CNNAgNF8riUcdjiM3Fd1Chd8weNmP5zRmyJ4TNQzHumxukbzuMS5lxAsG4z2cImXYUPBhKesLT9FKXL51EIl69st0GwG63pbbH1NonL/qEZlGa7+fRHanaoCQGhWS/dtfrhYEbamHvebk4mvvi7Er5haaBCXyA/pOmuI5ZwebjzMAla7jC3ywANa23NZZL3S3NMxKqyOrYerImni8fsixEPuKCHOIEvbK9X/R+p6ePnjoUk4ut57RU2R0U82ux5fM8DDN4nNH8Je6kttcm2XLWeOq4OplJDQXhFCfIEaR8mAbFN5o5ZjuCUsVA666LFGlRFBqnJOOfbkqW7wByk2st08Oo7GxMuTnyWzWXq3FOTKCk9oAUqgLqrkRH4aUFp2AG1ibY6mHA0HZ1wLMReCJrCXNhpMMHEBqBwPTh6OXm0g3GHFY/8MMCD9zIua1sJ9DE5jo0ZCVCe5Thqxff5DHuZ6PfEc78ocSMDopwpv9X8CwAhnuBoPbns3kPh9ro4Jl899tBa5aUC72nYms3ruhUGWhhA2VfupGVitVwZYtRFLKtw5A=
  - secure: qssIPIaym5+2PT1N/REpBB3iyceqqyy6lxCnRQ7DnNM+KSqao/foq32lolAinnVqg/GYflq54reWASh15vFW++Z6vVsLkEjjUVISc0gq2LL89f1GpViqN998gmj4i2/YD0s6urbPoPcK+zQ92d2tSkpGtJ/VlhMjdBhbrhleC1VlP+X7kYcIgMHFfmCXN/ce2jTG4T5IACBUdpzRtR/ebZ5rIyPBFT5y2t10s/C85KY7wVl8A3BODNQ7oyWf2JNzNAckwIx1wv6uaQFWtl7kk5gXI/nEnPZyDsJzfdmE2E7XiJtWVgMzQoBBhFfcAGMTjKgDRScmzPHI2PwFmLSR4O6xhhnrdtFFop8ohEOI+WYPFR+ZWgZd2Q9jSInp+8uiqQ3GY/ShgFjOFVtA8xrfwlhglLQjSc4lJ/Hll0lWH6nqNJ8s1axaxmj5iyokTremMotRJ2WYFBKjb9KJkj1QcWIIHKXYBsbAqOh8SjKPwi6+9Q+p830U3bZO0rQJ9Xr9FW7ArUVJUdiEEhdr3hxp5+U70EoVvdSUYsGuP6umn2hroPOuBTRkQrqIppTFbArvr1t+td2iEgAiOaeM1Md+rIrBPZ/0BW+2VVigeWTeLh+DotVBlYIIvbJYDYp+obTooslFObmu7wi1YsOaPfcT2jOBKQzNNV6lAp2dw7egxqM=
